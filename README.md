# CDK AWS Lambda Resource Sync Stack
 
This repo pulls specifically tagged AWS resource information from AWS ResourceGroupsTaggingAPI service and stores them in a DynamoDB table

## Features

* Recreates the DynamoDB and fetch the latest reources information from AWS ResourceGroupsTaggingAPI service
* Uses `EnvironmentName` as the primary key and `Owner` as the sort key for the resource items in DynamoDB

## Useful commands

 * `cdk bootstrap`   initialize assets before deploy
 * `cdk synth`       emits the synthesized CloudFormation template
 * `cdk deploy`      deploy this stack to your default AWS account/region

 ## Build

To build this app, you need to be in this repo's root folder. Then run the following:

```bash
$ python3 -m venv .env
$ source .env/bin/activate
$ pip install -r requirements.txt
```

This will install the necessary CDK, then this example's dependencies, and then build your Python files and your CloudFormation template.

Install the latest version of the AWS CDK CLI:

```shell
$ npm i -g aws-cdk
```

## Deploy

Run `cdk deploy`. This will deploy / redeploy your Stack to your AWS Account.


## Synthesize Cloudformation Template

To see the Cloudformation template generated by the CDK, run `cdk synth`, then check the output file in the "cdk.out" directory.